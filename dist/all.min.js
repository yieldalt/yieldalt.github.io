!function(o){o.fn.extend({formatNumber:function(n){n=o.extend({cents:".",decimal:","},n);return this.each(function(){var a,t=n,e=o(this);for(values=o.trim(e.html()),values+="",x=values.split(t.cents),x1=x[0],x2=1<x.length?t.cents+x[1]:"",a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1"+t.decimal+"$2");e.html(x1+x2)})}})}(jQuery),$(document).ready(function(){var a=$("h1").text().split("");$this=$("h1"),$this.empty(),$.each(a,function(a,t){$this.append("<span>"+t+"</span")})}),$(document).ready(function(){var a=$("input#totalLoans").val(),t=$("input#avgLoanSize").val(),e=$("input#defaultPct").val(),n=$("input#avgInterest").val(),o=.01*n,r=$("input#avgYldPrice").val(),l=$("input#lenderIntFee").val(),i=350,u=$("input#claimedEarlyRwd").val(),g=$("input#unclaimedRwd").val(),m=$("p#totalGrossVol"),d=$("p#totalGoodVol"),b=$("p#totalDefVol"),s=$("p#avgLoanSize"),c=$("p#totalNumGood"),p=$("p#totalNumDef"),h=t*a,x=h*(1-.01*e),M=h*(.01*e),f=h/a,v=a*(1-.01*e),y=a-v,D=$("p#totalSupplyInc"),L=$("p#supplyDecLendingAvg"),S=t*o*(l/100),N=.01*t,Y=1.25*t*.07,A=(S+N)*v,I=Y*y,w=A+I,C=w/r,R=Math.min(1/r*(o-.01)*t,i/r)*(1-g/100),k=R-R*(u/100)*.65,F=k*v;console.log("Total fees on good loans: $"+w),console.log("Total YLD to be burned: "+C+" YLD"),console.log("Total YLD to be minted (before burn): "+F+" YLD"),console.log("Supply Increase - Supply Decrease: "+(F-C)+" YLD");var P=v*k,J=t*o*.02/r;m.text(t*a).formatNumber(),d.text(x).formatNumber(),b.text(M).formatNumber(),s.text(f).formatNumber(),c.text(v),p.text(y),D.text(P),L.text(J),$("#totalToMint").text(Math.round(F)+" YLD").formatNumber(),$("#totalToBurn").text(Math.round(C)+" YLD").formatNumber(),$("#netMint").text(Math.round(F-C)+" YLD").formatNumber();var z,V,E=["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sept","Oct","Nov","Dec"],T=new Date,B=(T.getMonth(),T.getMonth(),622650),G=F-C,O=[B,Math.max(0,B+G),Math.max(0,B+2*G),Math.max(0,B+3*G),Math.max(0,B+4*G),Math.max(0,B+5*G),Math.max(0,B+6*G),Math.max(0,B+7*G),Math.max(0,B+8*G),Math.max(0,B+9*G),Math.max(0,B+10*G),Math.max(0,B+11*G)],W=document.getElementById("supply").getContext("2d"),Z=new Chart(W,{type:"bar",data:{labels:["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sept","Oct","Nov","Dec"],datasets:[{label:"YLD Supply",data:O,backgroundColor:["rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)"],borderColor:["rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)"],borderWidth:1}]},options:{scaleShowValues:!0,scales:{yAxes:[{ticks:{beginAtZero:!1,min:Math.max(0,Math.min(500*Math.round((B+11*G)/1e3),5e5))}}],xAxes:[{ticks:{autoSkip:!1}}]},maintainAspectRatio:!1,display:!1,legend:{display:!0,onClick:!1,labels:{fontColor:"#fff",fontSize:16,fontFamily:"IBM Plex Mono"}}}});function j(a){(a.target.previousElementSibling||a.target.nextElementSibling).value=a.target.value}$(".inputRange").change(j),$("#totalLoans").change(j),$("#avgLoanSize").change(j),$("#avgYldPrice").change(j),$("#avgInterest").change(j),$("#defaultPct").change(j),$("#lenderIntFee").change(j),$("#maxYldReward").change(j),$("#claimedEarlyRwd").change(j),$("#unclaimedRwd").change(j),$(".inputRange, #totalLoans, #avgLoanSize, #avgYldPrice, #avgInterest, #defaultPct, #lenderIntFee, #claimedEarlyRwd, #unclaimedRwd").change(function(){a=$("input#totalLoans").val(),t=$("input#avgLoanSize").val(),e=$("input#defaultPct").val(),n=$("input#avgInterest").val(),o=.01*n,r=$("input#avgYldPrice").val(),l=$("input#lenderIntFee").val(),i=350,u=$("input#claimedEarlyRwd").val(),g=$("input#unclaimedRwd").val(),m=$("p#totalGrossVol"),d=$("p#totalGoodVol"),b=$("p#totalDefVol"),s=$("p#avgLoanSize"),c=$("p#totalNumGood"),p=$("p#totalNumDef"),x=(h=t*a)*(1-.01*e),M=h*(.01*e),f=h/a,y=a-(v=a*(1-.01*e)),D=$("p#totalSupplyInc"),L=$("p#supplyDecLendingAvg"),C=(w=(A=((S=t*o*(l/100))+(N=.01*t))*v)+(I=(Y=1.25*t*.07)*y))/r,R=Math.min(1/r*(o-.01)*t,i/r)*(1-g/100),F=(k=R-R*(u/100)*.65)*v,m.text(Math.round(t*a)).formatNumber(),d.text(Math.round(x)).formatNumber(),b.text(Math.round(M)).formatNumber(),s.text(Math.round(f)).formatNumber(),c.text(parseInt(v)),p.text(parseInt(y)),D.text(P),L.text(J),$("#totalToMint").text(Math.round(F)+" YLD").formatNumber(),$("#totalToBurn").text(Math.round(C)+" YLD").formatNumber(),$("#netMint").text(Math.round(F-C)+" YLD").formatNumber(),G=F-C,z=[B=622650,Math.max(0,B+G),Math.max(0,B+2*G),Math.max(0,B+3*G),Math.max(0,B+4*G),Math.max(0,B+5*G),Math.max(0,B+6*G),Math.max(0,B+7*G),Math.max(0,B+8*G),Math.max(0,B+9*G),Math.max(0,B+10*G),Math.max(0,B+11*G)],O=z,Z.data.datasets[0].data=z,Z.config.options.scales.yAxes[0].ticks.min=Math.max(0,Math.min(500*Math.round((B+11*G)/1e3),5e5)),Z.update()}),Chart.defaults.global.defaultFontFamily="IBM Plex Mono",$("a.switch-chart").click(function(a){a.preventDefault();var t=$(this);V=t.hasClass("bar")?"line":"bar",t.toggleClass("bar line"),Z.destroy(),Z=new Chart(W,{type:V,data:{labels:["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sept","Oct","Nov","Dec"],datasets:[{label:"YLD Supply",data:O,backgroundColor:["rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)","rgba(239, 188, 134, 0.2)"],borderColor:["rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)","rgba(239, 188, 134, 1)"],borderWidth:1}]},options:{scaleShowValues:!0,scales:{yAxes:[{ticks:{beginAtZero:!1,min:Math.max(0,Math.min(500*Math.round((B+11*G)/1e3),5e5))}}],xAxes:[{ticks:{autoSkip:!1}}]},maintainAspectRatio:!1,display:!1,legend:{display:!0,onClick:!1,labels:{fontColor:"#fff",fontSize:16,fontFamily:"IBM Plex Mono"}}}})})});